{"version":3,"sources":["components/AuthForm.js","fbase.js","routes/Auth.js","components/Nweet.js","components/NweetFactory.js","routes/Home.js","components/Navigation.js","routes/Profile.js","components/Router.js","components/App.js","index.js"],"names":["AuthForm","useState","email","setEmail","password","setPassword","newAccount","setNewAccount","error","setError","onChange","e","target","name","value","onSubmit","a","preventDefault","auth","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","className","type","placeholder","required","onClick","prev","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","fbaseInstance","db","storageService","storageRef","ref","Auth","onSocialClick","event","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","icon","faTwitter","color","size","style","marginBottom","faGoogle","faGithub","Nweet","nweetObj","isOwner","editing","SetEditing","text","newNweet","SetNewNweet","onDeleteClick","window","confirm","doc","id","delete","downloadURL","refFromURL","toggleEditing","update","autoFocus","src","alt","class","faTrash","faPencilAlt","NweetFactory","userObj","nweet","setNweet","file","SetFile","imgUuid","uuidv4","fileRef","child","uid","putString","response","getDownloadURL","createdAt","Date","now","creatorId","collection","add","maxLength","for","faPlus","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","opacity","hidden","backgroundImage","data-modal","faTimes","Home","nweets","setNweets","useEffect","onSnapshot","snapshot","nweetArray","docs","map","marginTop","key","Navigation","display","justifyContent","to","marginRight","marginLeft","flexDirection","alignItems","fontSize","faUser","displayName","refreshUser","history","useHistory","newDisplayName","setNewDisplayName","getMyNweets","where","orderBy","get","updateProfile","signOut","push","AppRouter","isLoggedIn","maxWidth","width","margin","exact","path","Profile","App","init","setInit","setUserObj","onAuthStateChanged","user","args","currentUser","Boolean","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25d3e7f8.chunk.js","sourcesContent":["import { auth } from \"firebase\";\nimport React, { useState } from \"react\";\n\nconst AuthForm = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [newAccount, setNewAccount] = useState(true);\n  const [error, setError] = useState(\"\");\n  const onChange = (e) => {\n    const {\n      target: { name, value },\n    } = e;\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      let data;\n      if (newAccount) {\n        data = await auth.createUserWithEmailAndPassword(email, password);\n      } else {\n        data = await auth.signInWithEmailAndPassword(email, password);\n      }\n      console.log(data);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  const toggleAccount = () => {\n    setNewAccount((prev) => !prev);\n  };\n  return (\n    <>\n      <form onSubmit={onSubmit} className=\"container\">\n        <input\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          required\n          value={email}\n          onChange={onChange}\n          className=\"authInput\"\n        />\n        <input\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          required\n          className=\"authInput\"\n          value={password}\n          onChange={onChange}\n        />\n        <input\n          type=\"submit\"\n          value={newAccount ? \"Sign up\" : \"Sign In\"}\n          className=\"authInput authSubmit\"\n        />\n        {error && <span className=\"authError\">{error}</span>}\n      </form>\n\n      <span onClick={toggleAccount} className=\"authSwitch\">\n        {\" \"}\n        {newAccount ? \"Already have account?\" : \"Create Account\"}{\" \"}\n      </span>\n    </>\n  );\n};\nexport default AuthForm;\n","import * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const fbaseInstance = firebase;\nexport const auth = firebase.auth();\nexport const db = firebase.firestore();\nexport const storageService = firebase.storage();\nexport const storageRef = storageService.ref();\n","import AuthForm from \"components/AuthForm\";\nimport { auth, fbaseInstance } from \"fbase\";\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faTwitter,\n  faGoogle,\n  faGithub,\n} from \"@fortawesome/free-brands-svg-icons\";\n\nconst Auth = () => {\n  const onSocialClick = async (event) => {\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new fbaseInstance.auth.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new fbaseInstance.auth.GithubAuthProvider();\n    }\n    const data = await auth.signInWithPopup(provider);\n    console.log(data);\n  };\n\n  return (\n    <div className=\"authContainer\">\n      <FontAwesomeIcon\n        icon={faTwitter}\n        color={\"#04AAFF\"}\n        size=\"3x\"\n        style={{ marginBottom: 30 }}\n      />\n      <AuthForm />\n      <div className=\"authBtns\">\n        <button onClick={onSocialClick} name=\"google\" className=\"authBtn\">\n          Continue with Google <FontAwesomeIcon icon={faGoogle} />\n        </button>\n        <button onClick={onSocialClick} name=\"github\" className=\"authBtn\">\n          Continue with Github <FontAwesomeIcon icon={faGithub} />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;\n","import { db, storageService } from \"fbase\";\nimport React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTrash, faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nexport const Nweet = ({ nweetObj, isOwner }) => {\n  const [editing, SetEditing] = useState(false);\n  const [newNweet, SetNewNweet] = useState(nweetObj.text);\n  const onDeleteClick = async () => {\n    const ok = window.confirm(\"Are you sure you want to delete this nweet?\");\n    if (ok) {\n      await db.doc(`nweets/${nweetObj.id}`).delete();\n      if (nweetObj.downloadURL !== \"\") {\n        await storageService.refFromURL(nweetObj.downloadURL).delete();\n      }\n    }\n  };\n\n  const toggleEditing = () => SetEditing((prev) => !prev);\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    db.doc(`nweets/${nweetObj.id}`).update({\n      text: newNweet,\n    });\n    SetEditing(false);\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    SetNewNweet(value);\n  };\n  return (\n    <div className=\"nweet\">\n      {editing ? (\n        <>\n          <form onSubmit={onSubmit} className=\"container nweetEdit\">\n            <input\n              type=\"text\"\n              placeholder=\"Edit yout nweet\"\n              value={newNweet}\n              onChange={onChange}\n              required\n              autoFocus\n              className=\"formInput\"\n            />\n            <input type=\"submit\" value=\"Update Nweet\" className=\"formBtn\" />\n          </form>\n          <span onClick={toggleEditing} className=\"formBtn cancelBtn\">\n            Cancel\n          </span>\n        </>\n      ) : (\n        <>\n          <h4>{nweetObj.text}</h4>\n          {nweetObj.downloadURL && (\n            <img src={nweetObj.downloadURL} alt=\"Nweet\" />\n          )}\n          {isOwner ? (\n            <div class=\"nweet__actions\">\n              <span onClick={onDeleteClick}>\n                <FontAwesomeIcon icon={faTrash} />\n              </span>\n              <span onClick={toggleEditing}>\n                <FontAwesomeIcon icon={faPencilAlt} />\n              </span>\n            </div>\n          ) : (\n            <></>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import { db, storageRef } from \"fbase\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faBorderNone,\n  faPlus,\n  faTimes,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nconst NweetFactory = ({ userObj }) => {\n  let nweetObj;\n  const [nweet, setNweet] = useState(\"\");\n  const [file, SetFile] = useState(\"\");\n\n  const onSubmit = async (event) => {\n    if (nweet === \"\") {\n      return;\n    }\n    event.preventDefault();\n    let downloadURL = \"\";\n    let imgUuid = \"\";\n    if (file !== \"\") {\n      imgUuid = uuidv4();\n      const fileRef = storageRef.child(`${userObj.uid}/${imgUuid}`);\n      const response = await fileRef.putString(file, \"data_url\");\n      downloadURL = await response.ref.getDownloadURL();\n    }\n    nweetObj = {\n      text: nweet,\n      createdAt: Date.now(),\n      creatorId: userObj.uid,\n      downloadURL,\n    };\n    await db.collection(\"nweets\").add(nweetObj);\n    setNweet(\"\");\n    SetFile(\"\");\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNweet(value);\n  };\n\n  const onFileChange = (event) => {\n    const {\n      target: { files },\n    } = event;\n    const theFile = files[0];\n    const reader = new FileReader();\n    reader.onloadend = (finishedEvent) => {\n      const {\n        currentTarget: { result },\n      } = finishedEvent;\n      SetFile(result);\n    };\n    reader.readAsDataURL(theFile);\n  };\n\n  const onClearFileClick = () => {\n    SetFile(\"\");\n  };\n  return (\n    <form onSubmit={onSubmit} className=\"factoryForm\">\n      <div className=\"factoryInput__container\">\n        <input\n          className=\"factoryInput__input\"\n          value={nweet}\n          onChange={onChange}\n          type=\"text\"\n          placeholder=\"What's on your mind?\"\n          maxLength={120}\n        />\n        <input type=\"submit\" value=\"&rarr;\" className=\"factoryInput__arrow\" />\n      </div>\n      <label for=\"attach-file\" className=\"factoryInput__label\">\n        <span>Add photos</span>\n        <FontAwesomeIcon icon={faPlus} />\n      </label>\n      <input\n        id=\"attach-file\"\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={onFileChange}\n        style={{\n          opacity: 0,\n        }}\n        hidden\n      />\n      {file && (\n        <div className=\"factoryForm__attachment\">\n          <img\n            alt=\"Nweet\"\n            src={file}\n            style={{\n              backgroundImage: file,\n            }}\n          />\n          <div id=\"modal-1\" class=\"modal\">\n            <div class=\"modal-inner\">\n              <a class=\"js-close-modal\">&times;</a>\n              <div class=\"modal-content\">\n                <h3>Modal Title</h3>\n                <p>This is my modal content</p>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"table\">\n            <div class=\"table-cell\">\n              <button class=\"js-modal\" data-modal=\"modal-1\">\n                Trigger Modal\n              </button>\n            </div>\n          </div>\n          <div className=\"factoryForm__clear\" onClick={onClearFileClick}>\n            <span>Remove</span>\n            <FontAwesomeIcon icon={faTimes} />\n          </div>\n        </div>\n      )}\n    </form>\n  );\n};\n\nexport default NweetFactory;\n","import React, { useState, useEffect } from \"react\";\nimport { db } from \"fbase\";\nimport { Nweet } from \"components/Nweet\";\nimport NweetFactory from \"components/NweetFactory\";\n\nconst Home = ({ userObj }) => {\n  const [nweets, setNweets] = useState([]);\n  useEffect(() => {\n    db.collection(\"nweets\").onSnapshot((snapshot) => {\n      const nweetArray = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setNweets(nweetArray);\n    });\n  }, []);\n  return (\n    <div className=\"container\">\n      <NweetFactory userObj={userObj} />\n      <div style={{ marginTop: 30 }}>\n        {nweets.map((nweet) => (\n          <Nweet\n            key={nweet.id}\n            nweetObj={nweet}\n            isOwner={nweet.creatorId === userObj.uid}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default Home;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Navigation = (userObj) => {\n  return (\n    <>\n      <nav>\n        <ul\n          style={{ display: \"flex\", justifyContent: \"center\", marginTop: 50 }}\n        >\n          <li>\n            <Link to=\"/\" style={{ marginRight: 10 }}>\n              <FontAwesomeIcon icon={faTwitter} color={\"#04AAFF\"} size=\"2x\" />\n            </Link>\n          </li>\n          <li>\n            <Link\n              to=\"/profile\"\n              style={{\n                marginLeft: 10,\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                fontSize: 12,\n              }}\n            >\n              <FontAwesomeIcon icon={faUser} color={\"#04AAFF\"} size=\"2x\" />\n              <span style={{ marginTop: 10 }}>\n                {userObj.userObj.displayName\n                  ? `${userObj.userObj.displayName}의 Profile`\n                  : \"Profile\"}\n              </span>\n            </Link>\n          </li>\n        </ul>\n      </nav>\n    </>\n  );\n};\n\nexport default Navigation;\n","import React, { useEffect, useState } from \"react\";\nimport { auth, db } from \"fbase\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default ({ userObj, refreshUser }) => {\n  const history = useHistory();\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n  const onLogOutClick = () => {\n    auth.signOut();\n    history.push(\"/\");\n  };\n\n  const getMyNweets = async () => {\n    const nweets = await db\n      .collection(\"nweets\")\n      .where(\"creatorId\", \"==\", userObj.uid)\n      .orderBy(\"createdAt\")\n      .get();\n    console.log(nweets.docs.map((doc) => doc.data()));\n  };\n\n  useEffect(() => {\n    getMyNweets();\n    // eslint-disable-next-line\n  }, []);\n\n  const onChange = (e) => {\n    const {\n      target: { value },\n    } = e;\n    setNewDisplayName(value);\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (userObj.displayName !== newDisplayName) {\n      await userObj.updateProfile({\n        displayName: newDisplayName,\n      });\n    }\n    refreshUser();\n  };\n  return (\n    <div className=\"container\">\n      <form onSubmit={onSubmit} className=\"profileForm\">\n        <input\n          type=\"text\"\n          onChange={onChange}\n          value={newDisplayName}\n          placeholder=\"Display Name\"\n          autoFocus\n          className=\"formInput\"\n        />\n        <input\n          type=\"submit\"\n          value=\"Update Profile\"\n          className=\"formBtn\"\n          style={{\n            marginTop: 10,\n          }}\n        />\n      </form>\n      <span className=\"formBtn cancelBtn logOut\" onClick={onLogOutClick}>\n        Log Out\n      </span>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Auth from \"routes/Auth\";\nimport Home from \"routes/Home\";\nimport Navigation from \"components/Navigation\";\nimport Profile from \"routes/Profile\";\n\nconst AppRouter = ({ refreshUser, isLoggedIn, userObj }) => {\n  return (\n    <Router>\n      {isLoggedIn && <Navigation userObj={userObj} />}\n      <Switch>\n        {isLoggedIn ? (\n          <div\n            style={{\n              maxWidth: 890,\n              width: \"100%\",\n              margin: \"0 auto\",\n              marginTop: 80,\n              display: \"flex\",\n              justifyContent: \"center\",\n            }}\n          >\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile userObj={userObj} refreshUser={refreshUser} />\n            </Route>\n          </div>\n        ) : (\n          <>\n            <Route exact path=\"/\">\n              <Auth />\n            </Route>\n          </>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import React, { useState, useEffect } from \"react\";\nimport AppRouter from \"components/Router\";\nimport { auth } from \"fbase\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        setUserObj(null);\n      }\n      setInit(true);\n    });\n  }, []);\n  const refreshUser = () => {\n    const user = auth.currentUser;\n    setUserObj({\n      displayName: user.displayName,\n      uid: user.uid,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n        />\n      ) : (\n        \"Initializing...\"\n      )}\n    </>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}